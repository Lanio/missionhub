$('div#snap_spinner').hide()
if(<%= @selected_movements.present? || @chart.snapshot_all_movements %>){
  $('div#snap_container1, div#snap_container2, div#snap_container3').show()
  $("#snap_chart").html("<%= escape_javascript(render partial: 'snapshot_js') %>")
  if(<%= @chart.snapshot_all_movements %>){
    $('input.snap_movement').prop('checked',true)
    $('input.snap_movement').attr('data-checked','true')
  }else if(<%= @selected_movements.present? && @selected_movements.count() > 0 %>){
    $('input.snap_movement').prop('checked',false)
    $('input.snap_movement').attr('data-checked','false')
    <% @selected_movements.each do |id| %>
      $('input.snap_movement[value=<%= id %>]').prop('checked',true)
      $('input.snap_movement[value=<%= id %>]').attr('data-checked','true')
    <% end if @selected_movements.present? && @selected_movements.count() > 0 %>
  }
}else{
  $('input.snap_movement').prop('checked',false)
  $('input.snap_movement').attr('data-checked','false')
}
